<div id="drafts-index" class="app-page bottom-fixed-navbar-container">
    
    <div class="row">
        <div class="col-md-4 col-lg-3">
            <ul data-bind="foreach: drafts" class="data-list">
                <li data-bind="css: { active: $data === $parent.selectedDraft() }, click: $parent.selectDraft">
                    <div class="pull-right">
                        <span data-bind="text: $parent.formatDate(Modified.At)"></span>
                    </div>
                    <span data-bind="text: Name"></span>
                </li>
            </ul>
        </div>
        <div class="col-md-8 col-lg-9">
            <div class="draft-preview">
                <!-- ko if: selectedDraft() -->
                <!-- ko if: template() -->
                <!-- ko foreach: { data: template().rows, as: 'row' } -->
                <div class="row">
                    <!-- ko foreach: { data:row.cells, as: 'cell' } -->
                    <div data-bind="draftTemplateClass: cell, click: $parents[1].editContentPart">
                        <div data-bind="template: { name: $parents[1].getContentPartTemplate($data) }"></div>
                    </div>
                    <!-- /ko -->
                </div>
                <!-- /ko -->
                <!-- /ko -->
                <p>
                    <a href="#" data-bind="click: function() { editDraft(selectedDraft()); }"><i class="icon-edit"></i> Bearbeiten</a>
                </p>
                <!-- /ko -->
            </div>
        </div>
    </div>
        
    <div class="navbar navbar-default navbar-fixed-bottom">        
        <div class="navbar-panel pull-left">
            <ul class="nav navbar-nav">
                <li>
                    <a href="#" data-bind="click:addDraft"><span><i class="icon-fixed-width icon-plus"></i> Neuer Entwurf</span></a>
                </li>
            </ul>
        </div>
    </div>
</div>

<script type="text/html" id="CT_HTML">
    <div data-bind="html: $parents[1].getContent($data)"></div>
</script>

<script type="text/html" id="CT_MARKDOWN">
    <div data-bind="markdown: $parents[1].getContent($data)"></div>
</script>

<script type="text/html" id="CT_TEXT">
    <pre data-bind="text: $parents[1].getContent($data)"></pre>
</script>