<div class="app-page bottom-fixed-navbar-container">

    <div class="row">
        <!-- ko if: file() -->
        <div class="col-md-9" data-bind="forceViewportHeight: { spacers: '.navbar-fixed-top', minWidth: 979 }">
            <!-- ko template: { name: previewTemplate, data: file } -->
            <!-- /ko -->
        </div>

        <div class="col-md-3">
            <h4 class="break-h"><!-- ko text: file().FileName --><!-- /ko --> <small>Details</small></h4>

            <div data-bind="with: file().Created">
                Hochgeladen <span data-bind="text: moment(At()).fromNow(), attr: { title: moment(At()).format('LLLL') }"></span> 
                von <span data-bind="text: By"></span>
            </div>
            <div>
                Größe: <!-- ko text: utils.formatFileSize(file().latestVersion().FileSize()) --><!-- /ko -->
            </div>
            <!-- ko if: moment(file().Created().At()).diff(moment(file().Modified().At()), 'seconds') > 0 -->
            <div data-bind="with: file().Modified">
                Letzte Änderung <span data-bind="text: moment(At()).fromNow(), attr: { title: moment(At()).format('LLLL') }"></span> 
                von <span data-bind="text: By"></span>
            </div>
            <!-- /ko -->
            <div>
                Inhaltstyp: <span data-bind="text: file().ContentType()"></span>
            </div>

            <!-- ko if: file().isImage -->
            <div data-bind="with: file().latestVersion">
                Bildgröße: <span data-bind="text: imageWidth"></span> x <span data-bind="text: imageHeight"></span> px
            </div>
            <!-- /ko -->

        </div>
        <!-- /ko -->
    </div>


    
    <div class="navbar navbar-default navbar-fixed-bottom">
        
        <div class="navbar-panel pull-left">                        
            <ul class="nav navbar-nav">
                <li>
                    <a href="#" data-bind="click: navigateBack">
                        <i class="icon-fixed-width icon-arrow-left"></i> Zurück</a>
                </li>
            </ul>
        </div>
        <div class="navbar-panel pull-right">
            <ul class="nav navbar-nav">
                <li>
                    <a href="#" title="Aktualisieren" data-bind="click: refresh"><i class="icon-fixed-width icon-refresh" data-bind="css: { 'icon-spin': isLoading }"></i></a>
                </li>
            </ul>
        </div> 
    </div>

    <script type="text/html" id="file-preview-image">
        <div class="file-preview image-preview" data-bind="stretchLineHeight: true">
            <img data-bind="attr: { src: '/DbFileContent/Inline/' + Id() }" />
        </div>
    </script>
    <script type="text/html" id="file-preview-general">
        <div class="file-preview">
        </div>
    </script>
</div>